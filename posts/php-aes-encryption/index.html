<!DOCTYPE html>
<html lang="zh-cmn-Hant"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>An AES Encryption Implementation in PHP - Bing-Sheng Chen</title>
    <base href="https://bschen.tw/">
    
    
    
    
    <link rel="stylesheet" href="https://bschen.tw/css/main.min.77a5141f9ea67f9ba748fc3698ced30b1fe5cbd999287eedeeef6263b735f340.css">
</head>
<body><header>
    <nav class="breadcrumb">
        
        <a href="/">/Home</a>
        
        <a href="/posts">/Posts</a>
        
    </nav>
</header>
<div class="container">
<main id="single">
    <h1>An AES Encryption Implementation in PHP</h1>
    <h2><time datetime="2016-06-01T14:52:00&#43;0000">2016-06-01</time>
</h2>
    <section class="post-content">
        <p>雖然網路上找到的大部份程式碼都是用 Mcrypt extension 實作的範例，不過用 OpenSSL extension 來實作的話會更簡潔明瞭：</p>

<p><a href="https://gist.github.com/gundamew/3462de49997eeb1fe34753d6c27f7646">https://gist.github.com/gundamew/3462de49997eeb1fe34753d6c27f7646</a></p>

<p>用 Mcrypt 實作的範例：</p>

<p><a href="https://gist.github.com/gundamew/2f3705db4c421f1ddd2655a72697abc4">https://gist.github.com/gundamew/2f3705db4c421f1ddd2655a72697abc4</a></p>

<p>實作時還發生了一個小烏龍：由於跟別人事先約定好要用 AES 128 加密，可是共用的密鑰長度卻是 32 個字元（256 bits），讓我在用 <code>AES-128-CBC</code> 測試時一直沒辦法解密出正確的原文，之後心血來潮改用 <code>AES-256-CBC</code> 測試後就成功解密了。找資料時看到<a href="http://stackoverflow.com/a/4413290/6404056">別人遇到的類似狀況</a>，我才確定問題出在密鑰的長度上</p>

<p>其他參考資料：</p>

<ul>
<li><a href="https://www.urbaninsight.com/2012/06/13/encrypt-and-decrypt-strings-php">Encrypt and decrypt strings in PHP | Urban Insight</a></li>
<li><a href="http://thefsb.tumblr.com/post/110749271235/using-opensslendecrypt-in-php-instead-of">Using openssl_en/decrypt() in PHP instead of&hellip;</a></li>
<li><a href="http://security.stackexchange.com/a/90850">initialisation vector - Encrypting using AES-256, can I use 256 bits IV? - Information Security Stack Exchange</a></li>
<li><a href="http://ijecorp.blogspot.tw/2013/08/python-m2crypto-aes-encrypt-decrypt.html">寫程式是良心事業: Python M2Crypto - AES 的 Encrypt 與 Decrypt</a></li>
</ul>

    </section>
</main>

        </div><footer>
    <span class="footer-text">Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a></span>
</footer>

<script src="https://bschen.tw/js/highlight.pack.13389e4e093fc0b3466287ead64c1f9fc3007d7703813a413de3f046ea09a346.js" integrity="sha256-EzieTgk/wLNGYofq1kwfn8MAfXcDgTpBPePwRuoJo0Y="></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
